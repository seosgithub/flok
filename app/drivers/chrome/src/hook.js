//Driver side interface
///////////////////////////////////////////////////////////////////////////////////////////////////////////
function if_hook_event(name, info) {
  //Call the appropriate registered handler
  if (hookEventHandlers[name] !== undefined) {
    hookEventHandlers[name](info);
  }
}
///////////////////////////////////////////////////////////////////////////////////////////////////////////

//User helpers
///////////////////////////////////////////////////////////////////////////////////////////////////////////
var hookEventHandlers = {};
function onHookEvent(eventName, handler) {
  hookEventHandlers[eventName] = handler;
}
///////////////////////////////////////////////////////////////////////////////////////////////////////////

<% if @debug %>
  onHookEvent("test", function(info) {
    int_dispatch([1, "hook_dump_res", {name: "test", info: info}]);
  });

  onHookEvent("test2", function(info) {
    int_dispatch([1, "hook_dump_res", {name: "test2", info: info}]);
  });
<% end %>
